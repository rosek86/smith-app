!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=14)}([function(t,e){t.exports=d3},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.element=t}return t.prototype.setDrawOptions=function(t){return void 0!==t.stroke&&(this.Stroke=t.stroke),void 0!==t.strokeWidth&&(this.StrokeWidth=t.strokeWidth),void 0!==t.fill&&(this.Fill=t.fill),this},Object.defineProperty(t.prototype,"Stroke",{set:function(t){this.element.attr("stroke",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StrokeWidth",{set:function(t){this.element.attr("stroke-width",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Fill",{set:function(t){this.element.attr("fill",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Node",{get:function(){return this.element.node()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Element",{get:function(){return this.element},enumerable:!0,configurable:!0}),t}();e.SmithShape=n},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=function(t){function e(e,r){var n=t.call(this,o.select(document.createElementNS("http://www.w3.org/2000/svg","circle")))||this;return r&&n.setDrawOptions(r),n.move(e),n}return i(e,t),e.prototype.move=function(t){return this.element.attr("cx",t.p[0]).attr("cy",t.p[1]).attr("r",t.r),this},e}(r(1).SmithShape);e.SmithCircle=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=function(t){function e(e){var r=t.call(this,o.select(document.createElementNS("http://www.w3.org/2000/svg","g")))||this;return e&&r.setDrawOptions(e),r}return i(e,t),e.prototype.rotateY=function(){return this.element.attr("transform","scale(1, -1)"),this},Object.defineProperty(e.prototype,"Element",{get:function(){return this.element},enumerable:!0,configurable:!0}),e.prototype.append=function(t){return null!==t&&this.element.append(function(){return t.Node}),this},e}(r(1).SmithShape);e.SmithGroup=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.circle=0]="circle",t[t.clipCircles=1]="clipCircles",t[t.arcOptions=2]="arcOptions"}(e.SmithArcEntry||(e.SmithArcEntry={}));var n=function(){function t(){}return t.textsTicks=function(){return[[.1,1],[.2,1],[.3,1],[.4,1],[.5,1],[.6,1],[.7,1],[.8,1],[.9,1],[1,1],[1.2,1],[1.4,1],[1.6,1],[1.8,1],[2,1],[3,1],[4,1],[5,1],[10,0],[20,0],[50,0]]},t.resistanceMajor=function(){return[[0,void 0,void 0],[.05,[[.2,0],[-.2,1]],[!1,!0]],[.1,[[2,0],[-2,1]],[!0,!0]],[.15,[[.2,0],[-.2,1]],[!1,!0]],[.2,[[5,0],[-5,1]],[!0,!0]],[.3,[[2,0],[-2,1]],[!0,!0]],[.4,[[5,0],[-5,1]],[!0,!0]],[.5,[[2,0],[-2,1]],[!0,!0]],[.6,[[5,0],[-5,1]],[!0,!0]],[.7,[[2,0],[-2,1]],[!0,!0]],[.8,[[5,0],[-5,1]],[!0,!0]],[.9,[[2,0],[-2,1]],[!0,!0]],[1,[[10,0],[-10,1]],[!0,!0]],[1.2,[[5,0],[-5,1]],[!0,!0]],[1.4,[[5,0],[-5,1]],[!0,!0]],[1.6,[[5,0],[-5,1]],[!0,!0]],[1.8,[[5,0],[-5,1]],[!0,!0]],[2,[[20,0],[-20,1]],[!0,!0]],[3,[[10,0],[-10,1]],[!0,!0]],[4,[[20,0],[-20,1]],[!0,!0]],[5,[[10,0],[-10,1]],[!0,!0]],[10,void 0,void 0],[20,[[50,0],[-50,1]],[!0,!0]],[50,void 0,void 0]]},t.resistanceMinor=function(){return[[.02,[[.2,0],[.5,0]],[!1,!1]],[.04,[[.2,0],[.5,0]],[!1,!1]],[.06,[[.2,0],[.5,0]],[!1,!1]],[.08,[[.2,0],[.5,0]],[!1,!1]],[.02,[[-.2,1],[-.5,1]],[!1,!0]],[.04,[[-.2,1],[-.5,1]],[!1,!0]],[.05,[[.5,0],[1,0]],[!1,!1]],[.05,[[-.5,1],[-1,1]],[!1,!0]],[.06,[[-.2,1],[-.5,1]],[!1,!0]],[.08,[[-.2,1],[-.5,1]],[!1,!0]],[.01,[[.2,0],[-.2,1]],[!1,!0]],[.02,[[.2,0],[-.2,1]],[!1,!0]],[.03,[[.2,0],[-.2,1]],[!1,!0]],[.04,[[.2,0],[-.2,1]],[!1,!0]],[.06,[[.2,0],[-.2,1]],[!1,!0]],[.07,[[.2,0],[-.2,1]],[!1,!0]],[.08,[[.2,0],[-.2,1]],[!1,!0]],[.09,[[.2,0],[-.2,1]],[!1,!0]],[.12,[[.2,0],[.5,0]],[!1,!1]],[.14,[[.2,0],[.5,0]],[!1,!1]],[.16,[[.2,0],[.5,0]],[!1,!1]],[.18,[[.2,0],[.5,0]],[!1,!1]],[.12,[[-.2,1],[-.5,1]],[!1,!0]],[.14,[[-.2,1],[-.5,1]],[!1,!0]],[.16,[[-.2,1],[-.5,1]],[!1,!0]],[.18,[[-.2,1],[-.5,1]],[!1,!0]],[.11,[[.2,0],[-.2,1]],[!1,!0]],[.12,[[.2,0],[-.2,1]],[!1,!0]],[.13,[[.2,0],[-.2,1]],[!1,!0]],[.14,[[.2,0],[-.2,1]],[!1,!0]],[.15,[[.5,0],[1,0]],[!1,!1]],[.15,[[-.5,1],[-1,1]],[!1,!0]],[.16,[[.2,0],[-.2,1]],[!1,!0]],[.17,[[.2,0],[-.2,1]],[!1,!0]],[.18,[[.2,0],[-.2,1]],[!1,!0]],[.19,[[.2,0],[-.2,1]],[!1,!0]],[.22,[[.5,0],[-.5,1]],[!1,!0]],[.24,[[.5,0],[-.5,1]],[!1,!0]],[.25,[[.5,0],[1,0]],[!1,!1]],[.25,[[-.5,1],[-1,1]],[!1,!0]],[.26,[[.5,0],[-.5,1]],[!1,!0]],[.28,[[.5,0],[-.5,1]],[!1,!0]],[.32,[[.5,0],[-.5,1]],[!1,!0]],[.34,[[.5,0],[-.5,1]],[!1,!0]],[.35,[[.5,0],[1,0]],[!1,!1]],[.35,[[-.5,1],[-1,1]],[!1,!0]],[.36,[[.5,0],[-.5,1]],[!1,!0]],[.38,[[.5,0],[-.5,1]],[!1,!0]],[.42,[[.5,0],[-.5,1]],[!1,!0]],[.44,[[.5,0],[-.5,1]],[!1,!0]],[.45,[[.5,0],[1,0]],[!1,!1]],[.45,[[-.5,1],[-1,1]],[!1,!0]],[.46,[[.5,0],[-.5,1]],[!1,!0]],[.48,[[.5,0],[-.5,1]],[!1,!0]],[.55,[[2,0],[-2,1]],[!0,!0]],[.65,[[2,0],[-2,1]],[!0,!0]],[.75,[[2,0],[-2,1]],[!0,!0]],[.85,[[2,0],[-2,1]],[!0,!0]],[.95,[[2,0],[-2,1]],[!0,!0]],[1.1,[[2,0],[-2,1]],[!1,!0]],[1.3,[[2,0],[-2,1]],[!1,!0]],[1.5,[[2,0],[-2,1]],[!1,!0]],[1.7,[[2,0],[-2,1]],[!1,!0]],[1.9,[[2,0],[-2,1]],[!1,!0]],[2.2,[[5,0],[-5,1]],[!0,!0]],[2.4,[[5,0],[-5,1]],[!0,!0]],[2.6,[[5,0],[-5,1]],[!0,!0]],[2.8,[[5,0],[-5,1]],[!0,!0]],[3.2,[[5,0],[-5,1]],[!0,!0]],[3.4,[[5,0],[-5,1]],[!0,!0]],[3.6,[[5,0],[-5,1]],[!0,!0]],[3.8,[[5,0],[-5,1]],[!0,!0]],[4.2,[[5,0],[-5,1]],[!1,!0]],[4.4,[[5,0],[-5,1]],[!1,!0]],[4.6,[[5,0],[-5,1]],[!1,!0]],[4.8,[[5,0],[-5,1]],[!1,!0]],[6,[[20,0],[-20,1]],[!0,!0]],[7,[[10,0],[-10,1]],[!0,!0]],[8,[[20,0],[-20,1]],[!0,!0]],[9,[[10,0],[-10,1]],[!0,!0]],[12,[[20,0],[-20,1]],[!0,!0]],[14,[[20,0],[-20,1]],[!0,!0]],[16,[[20,0],[-20,1]],[!0,!0]],[18,[[20,0],[-20,1]],[!0,!0]],[30,[[50,0],[-50,1]],[!0,!0]],[40,[[50,0],[-50,1]],[!0,!0]]]},t.reactanceMajor=function(){return[[.05,[[.2,1],[0,1]],[!1,!1]],[-.05,[[.2,0],[0,0]],[!1,!0]],[.1,[[2,1],[0,1]],[!1,!1]],[-.1,[[2,0],[0,0]],[!1,!0]],[.15,[[.2,1],[0,1]],[!1,!1]],[-.15,[[.2,0],[0,0]],[!1,!0]],[.2,[[5,1],[0,1]],[!1,!1]],[-.2,[[5,0],[0,0]],[!1,!0]],[.3,[[2,1],[0,1]],[!1,!1]],[-.3,[[2,0],[0,0]],[!1,!0]],[.4,[[5,1],[0,1]],[!1,!1]],[-.4,[[5,0],[0,0]],[!1,!0]],[.5,[[2,1],[0,1]],[!1,!1]],[-.5,[[2,0],[0,0]],[!1,!0]],[.6,[[5,1],[0,1]],[!1,!1]],[-.6,[[5,0],[0,0]],[!1,!0]],[.7,[[2,1],[0,1]],[!1,!1]],[-.7,[[2,0],[0,0]],[!1,!0]],[.8,[[5,1],[0,1]],[!1,!1]],[-.8,[[5,0],[0,0]],[!1,!0]],[.9,[[2,1],[0,1]],[!1,!1]],[-.9,[[2,0],[0,0]],[!1,!0]],[1,[[10,1],[0,1]],[!1,!1]],[-1,[[10,0],[0,0]],[!1,!0]],[1.2,[[5,1],[0,1]],[!1,!1]],[-1.2,[[5,0],[0,0]],[!1,!0]],[1.4,[[5,1],[0,1]],[!1,!1]],[-1.4,[[5,0],[0,0]],[!1,!0]],[1.6,[[5,1],[0,1]],[!1,!1]],[-1.6,[[5,0],[0,0]],[!1,!0]],[1.8,[[5,1],[0,1]],[!1,!1]],[-1.8,[[5,0],[0,0]],[!1,!0]],[2,[[20,1],[0,1]],[!1,!1]],[-2,[[20,0],[0,0]],[!1,!0]],[3,[[10,1],[0,1]],[!1,!1]],[-3,[[10,0],[0,0]],[!1,!0]],[4,[[20,1],[0,1]],[!1,!1]],[-4,[[20,0],[0,0]],[!1,!0]],[5,[[10,1],[0,1]],[!1,!1]],[-5,[[10,0],[0,0]],[!1,!0]],[10,[[20,1],[0,1]],[!1,!1]],[-10,[[20,0],[0,0]],[!1,!0]],[20,[[50,1],[0,1]],[!1,!1]],[-20,[[50,0],[0,0]],[!1,!0]],[50,[[0,0],[0,1]],[!1,!1]],[-50,[[0,1],[0,0]],[!1,!0]]]},t.reactanceMinor=function(){return[[.01,[[.2,1],[0,1]],[!1,!1]],[-.01,[[.2,0],[0,0]],[!1,!0]],[.02,[[.5,1],[.2,1]],[!1,!1]],[-.02,[[.5,0],[.2,0]],[!1,!0]],[.02,[[.2,1],[0,1]],[!1,!1]],[-.02,[[.2,0],[0,0]],[!1,!0]],[.03,[[.2,1],[0,1]],[!1,!1]],[-.03,[[.2,0],[0,0]],[!1,!0]],[.04,[[.5,1],[.2,1]],[!1,!1]],[-.04,[[.5,0],[.2,0]],[!1,!0]],[.04,[[.2,1],[0,1]],[!1,!1]],[-.04,[[.2,0],[0,0]],[!1,!0]],[.06,[[.5,1],[.2,1]],[!1,!1]],[-.06,[[.5,0],[.2,0]],[!1,!0]],[.06,[[.2,1],[0,1]],[!1,!1]],[-.06,[[.2,0],[0,0]],[!1,!0]],[.07,[[.2,1],[0,1]],[!1,!1]],[-.07,[[.2,0],[0,0]],[!1,!0]],[.08,[[.5,1],[.2,1]],[!1,!1]],[-.08,[[.5,0],[.2,0]],[!1,!0]],[.08,[[.2,1],[0,1]],[!1,!1]],[-.08,[[.2,0],[0,0]],[!1,!0]],[.09,[[.2,1],[0,1]],[!1,!1]],[-.09,[[.2,0],[0,0]],[!1,!0]],[.11,[[.2,1],[0,1]],[!1,!1]],[-.11,[[.2,0],[0,0]],[!1,!0]],[.12,[[.5,1],[.2,1]],[!1,!1]],[-.12,[[.5,0],[.2,0]],[!1,!0]],[.12,[[.2,1],[0,1]],[!1,!1]],[-.12,[[.2,0],[0,0]],[!1,!0]],[.13,[[.2,1],[0,1]],[!1,!1]],[-.13,[[.2,0],[0,0]],[!1,!0]],[.14,[[.5,1],[.2,1]],[!1,!1]],[-.14,[[.5,0],[.2,0]],[!1,!0]],[.14,[[.2,1],[0,1]],[!1,!1]],[-.14,[[.2,0],[0,0]],[!1,!0]],[.16,[[.5,1],[.2,1]],[!1,!1]],[-.16,[[.5,0],[.2,0]],[!1,!0]],[.16,[[.2,1],[0,1]],[!1,!1]],[-.16,[[.2,0],[0,0]],[!1,!0]],[.17,[[.2,1],[0,1]],[!1,!1]],[-.17,[[.2,0],[0,0]],[!1,!0]],[.18,[[.5,1],[.2,1]],[!1,!1]],[-.18,[[.5,0],[.2,0]],[!1,!0]],[.18,[[.2,1],[0,1]],[!1,!1]],[-.18,[[.2,0],[0,0]],[!1,!0]],[.19,[[.2,1],[0,1]],[!1,!1]],[-.19,[[.2,0],[0,0]],[!1,!0]],[.22,[[.5,1],[0,1]],[!1,!1]],[-.22,[[.5,0],[0,0]],[!1,!0]],[.24,[[.5,1],[0,1]],[!1,!1]],[-.24,[[.5,0],[0,0]],[!1,!0]],[.26,[[.5,1],[0,1]],[!1,!1]],[-.26,[[.5,0],[0,0]],[!1,!0]],[.28,[[.5,1],[0,1]],[!1,!1]],[-.28,[[.5,0],[0,0]],[!1,!0]],[.32,[[.5,1],[0,1]],[!1,!1]],[-.32,[[.5,0],[0,0]],[!1,!0]],[.34,[[.5,1],[0,1]],[!1,!1]],[-.34,[[.5,0],[0,0]],[!1,!0]],[.36,[[.5,1],[0,1]],[!1,!1]],[-.36,[[.5,0],[0,0]],[!1,!0]],[.38,[[.5,1],[0,1]],[!1,!1]],[-.38,[[.5,0],[0,0]],[!1,!0]],[.42,[[.5,1],[0,1]],[!1,!1]],[-.42,[[.5,0],[0,0]],[!1,!0]],[.44,[[.5,1],[0,1]],[!1,!1]],[-.44,[[.5,0],[0,0]],[!1,!0]],[.46,[[.5,1],[0,1]],[!1,!1]],[-.46,[[.5,0],[0,0]],[!1,!0]],[.48,[[.5,1],[0,1]],[!1,!1]],[-.48,[[.5,0],[0,0]],[!1,!0]],[.05,[[1,1],[.5,1]],[!1,!1]],[-.05,[[1,0],[.5,0]],[!1,!0]],[.15,[[1,1],[.5,1]],[!1,!1]],[-.15,[[1,0],[.5,0]],[!1,!0]],[.25,[[1,1],[.5,1]],[!1,!1]],[-.25,[[1,0],[.5,0]],[!1,!0]],[.35,[[1,1],[.5,1]],[!1,!1]],[-.35,[[1,0],[.5,0]],[!1,!0]],[.45,[[1,1],[.5,1]],[!1,!1]],[-.45,[[1,0],[.5,0]],[!1,!0]],[.55,[[1,1],[0,1]],[!1,!1]],[-.55,[[1,0],[0,0]],[!1,!0]],[.65,[[1,1],[0,1]],[!1,!1]],[-.65,[[1,0],[0,0]],[!1,!0]],[.75,[[1,1],[0,1]],[!1,!1]],[-.75,[[1,0],[0,0]],[!1,!0]],[.85,[[1,1],[0,1]],[!1,!1]],[-.85,[[1,0],[0,0]],[!1,!0]],[.95,[[1,1],[0,1]],[!1,!1]],[-.95,[[1,0],[0,0]],[!1,!0]],[1.1,[[2,1],[0,1]],[!1,!1]],[-1.1,[[2,0],[0,0]],[!1,!0]],[1.3,[[2,1],[0,1]],[!1,!1]],[-1.3,[[2,0],[0,0]],[!1,!0]],[1.5,[[2,1],[0,1]],[!1,!1]],[-1.5,[[2,0],[0,0]],[!1,!0]],[1.7,[[2,1],[0,1]],[!1,!1]],[-1.7,[[2,0],[0,0]],[!1,!0]],[1.9,[[2,1],[0,1]],[!1,!1]],[-1.9,[[2,0],[0,0]],[!1,!0]],[2.2,[[5,1],[0,1]],[!1,!1]],[-2.2,[[5,0],[0,0]],[!1,!0]],[2.4,[[5,1],[0,1]],[!1,!1]],[-2.4,[[5,0],[0,0]],[!1,!0]],[2.6,[[5,1],[0,1]],[!1,!1]],[-2.6,[[5,0],[0,0]],[!1,!0]],[2.8,[[5,1],[0,1]],[!1,!1]],[-2.8,[[5,0],[0,0]],[!1,!0]],[3.2,[[5,1],[0,1]],[!1,!1]],[-3.2,[[5,0],[0,0]],[!1,!0]],[3.4,[[5,1],[0,1]],[!1,!1]],[-3.4,[[5,0],[0,0]],[!1,!0]],[3.6,[[5,1],[0,1]],[!1,!1]],[-3.6,[[5,0],[0,0]],[!1,!0]],[3.8,[[5,1],[0,1]],[!1,!1]],[-3.8,[[5,0],[0,0]],[!1,!0]],[4.2,[[5,1],[0,1]],[!1,!1]],[-4.2,[[5,0],[0,0]],[!1,!0]],[4.4,[[5,1],[0,1]],[!1,!1]],[-4.4,[[5,0],[0,0]],[!1,!0]],[4.6,[[5,1],[0,1]],[!1,!1]],[-4.6,[[5,0],[0,0]],[!1,!0]],[4.8,[[5,1],[0,1]],[!1,!1]],[-4.8,[[5,0],[0,0]],[!1,!0]],[6,[[20,1],[0,1]],[!1,!1]],[-6,[[20,0],[0,0]],[!1,!0]],[7,[[10,1],[0,1]],[!1,!1]],[-7,[[10,0],[0,0]],[!1,!0]],[8,[[20,1],[0,1]],[!1,!1]],[-8,[[20,0],[0,0]],[!1,!0]],[9,[[10,1],[0,1]],[!1,!1]],[-9,[[10,0],[0,0]],[!1,!0]],[12,[[50,1],[0,1]],[!1,!1]],[-12,[[50,0],[0,0]],[!1,!0]],[14,[[20,1],[0,1]],[!1,!1]],[-14,[[20,0],[0,0]],[!1,!0]],[16,[[20,1],[0,1]],[!1,!1]],[-16,[[20,0],[0,0]],[!1,!0]],[18,[[20,1],[0,1]],[!1,!1]],[-18,[[20,0],[0,0]],[!1,!0]],[30,[[50,1],[0,1]],[!1,!1]],[-30,[[50,0],[0,0]],[!1,!0]],[40,[[50,1],[0,1]],[!1,!1]],[-40,[[50,0],[0,0]],[!1,!0]]]},t}();e.SmithArcsDefs=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.epsilon=1e-10}return t.prototype.reflectionCoefficientToImpedance=function(t){var e=t[0],r=t[1],n=(1-e)*(1-e)+r*r;if(!(Math.abs(n)<this.epsilon))return[(1-e*e-r*r)/n,2*r/n]},t.prototype.impedanceToReflectionoefficient=function(t){var e=t[0],r=t[1],n=(e+1)*(e+1)+r*r;if(!(Math.abs(n)<this.epsilon))return[(e*e+r*r-1)/n,2*r/n]},t.prototype.reflectionCoefficientToAdmittance=function(t){var e=t[0],r=t[1],n=(e+1)*(e+1)+r*r;if(!(Math.abs(n)<this.epsilon))return[(1-e*e-r*r)/n,-2*r/n]},t.prototype.admittanceToReflectionCoefficient=function(t){var e=t[0],r=t[1],n=(e+1)*(e+1)+r*r;if(!(Math.abs(n)<this.epsilon))return[(1-e*e-r*r)/n,-2*r/n]},t.prototype.resistanceCircle=function(t){return{p:[t/(t+1),0],r:1/(t+1)}},t.prototype.reactanceCircle=function(t){return{p:[1,1/t],r:Math.abs(1/t)}},t.prototype.conductanceCircle=function(t){return{p:[-t/(t+1),0],r:1/(t+1)}},t.prototype.susceptanceCircle=function(t){return{p:[-1,-1/t],r:Math.abs(1/t)}},t.prototype.reflectionCoefficientToSwr=function(t){var e=t[0],r=t[1],n=Math.sqrt(e*e+r*r);return(1+n)/(1-n)},t.prototype.swrToAbsReflectionCoefficient=function(t){return(t-1)/(t+1)},t.prototype.reflectionCoefficientToReturnLoss=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return-20*Math.log10(e)},t.prototype.reflectionCoefficientToMismatchLoss=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return-10*Math.log10(1-e*e)},t}();e.SmithConstantCircle=n},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=function(t){function e(e){var r=t.call(this,o.select(document.createElementNS("http://www.w3.org/2000/svg","g")))||this;r.dragHandler=null;var n=r.Element;return r.triangle=n.append("polygon").attr("points","0,0 0.03,-0.06 -0.03,-0.06").attr("stroke-width","0.005").attr("stroke","gray").attr("fill","purple").attr("transform","translate(0,0)"),r.text=n.append("text").attr("pointer-events","none").attr("transform","translate(0,0)").attr("font-family","Verdana").attr("font-size","0.04").attr("font-weight","normal").attr("text-anchor","middle").attr("x","0").attr("y","0").attr("dy","-0.025").attr("fill","white").text(e.toString()),r.triangle.call(o.drag().on("start",function(){r.triangle.attr("stroke","gray")}).on("drag",function(){r.dragHandler&&r.dragHandler([o.event.x,o.event.y])}).on("end",function(){r.triangle.attr("stroke","gray")})),r}return i(e,t),e.prototype.move=function(t){this.triangle.attr("transform","translate("+t[0]+","+t[1]+")"),this.text.attr("x",""+t[0]).attr("y",""+t[1])},e.prototype.show=function(){this.Element.attr("opacity",null)},e.prototype.hide=function(){this.Element.attr("opacity","0")},e.prototype.setDragHandler=function(t){this.dragHandler=t},e}(r(1).SmithShape);e.SmithMarker=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3),i=r(2),o=r(6),a=function(){function t(t,e,r,n){this.data=t,this.transform=e,this.fgContainer=r,this.bgContainer=n,this.markersCount=0,this.markers=[],this.pointSize=1,this.handler=null,this.group=this.drawPoints(t,"purple"),this.bgContainer.append(this.group),this.addMarker()}return t.prototype.drawPoints=function(t,e){var r=new n.SmithGroup({stroke:"none",strokeWidth:"none",fill:e});return t.forEach(function(t){return r.append(new i.SmithCircle({p:t.point,r:.005}))}),r},t.prototype.zoom=function(t){this.transform=t,this.zoomDataPoints(),this.zoomAllMarkers()},t.prototype.zoomDataPoints=function(){var t=this.transform.k,e=this.group.Element;5===this.pointSize&&t>10.1&&(e.selectAll("*").attr("r","0.001"),this.pointSize=10),10===this.pointSize&&t<9.9&&(e.selectAll("*").attr("r","0.003"),this.pointSize=5),1===this.pointSize&&t>5.1&&(e.selectAll("*").attr("r","0.003"),this.pointSize=5),5===this.pointSize&&t<4.9&&(e.selectAll("*").attr("r","0.005"),this.pointSize=1)},t.prototype.zoomAllMarkers=function(){for(var t=0,e=this.markers;t<e.length;t++){var r=e[t],n=r.selectedPoint;r.marker.move(this.bg2fg(n.point))}},t.prototype.addMarker=function(){var t=this,e=this.markersCount++,r=new o.SmithMarker(e+1),n={marker:r,selectedPoint:this.data[0]};this.markers.push(n),r.move(this.bg2fg(n.selectedPoint.point)),r.show(),this.fgContainer.append(r),r.Element.raise(),r.setDragHandler(function(i){var o=t.findClosestPointTo(t.fg2bg(i));n.selectedPoint!==o&&(n.selectedPoint=o,r.move(t.bg2fg(o.point)),t.handler&&t.handler(e,o))})},t.prototype.setMarkerMoveHandler=function(t){this.handler=t},t.prototype.fg2bg=function(t){var e=[t[0],t[1]];return e[0]-=this.transform.x,e[1]-=this.transform.y,e[0]/=this.transform.k,e[1]/=-this.transform.k,e},t.prototype.bg2fg=function(t){var e=[t[0],t[1]];return e[0]*=this.transform.k,e[1]*=-this.transform.k,e[0]+=this.transform.x,e[1]+=this.transform.y,e},t.prototype.findClosestPointTo=function(t){var e=function(t,e){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)};return this.data.reduce(function(r,n){return e(t,r.point)<=e(t,n.point)?r:n})},t}();e.SmithData=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=function(t){function e(e,r,n){var i=t.call(this,o.select(document.createElementNS("http://www.w3.org/2000/svg","text")))||this;return i.p=e,i.element.attr("pointer-events","none").attr("transform","translate(0,0) scale(1,-1)").text(r),n&&i.setTextOptions(n),i.move(e),i}return i(e,t),e.prototype.move=function(t){return this.element.attr("x",t[0]).attr("y",t[1]),this.p=t,this},e.prototype.text=function(t){return this.element.text(t),this},e.prototype.setTextOptions=function(t){return void 0!==t.dx&&this.element.attr("dx",t.dx),void 0!==t.dy&&this.element.attr("dy",-t.dy),void 0!==t.stroke&&this.element.attr("stroke",t.stroke),void 0!==t.fill&&this.element.attr("fill",t.fill),void 0!==t.fontFamily&&this.element.attr("font-family",t.fontFamily),void 0!==t.fontSize&&this.element.attr("font-size",t.fontSize),void 0!==t.textAnchor&&this.element.attr("text-anchor",t.textAnchor),void 0!==t.rotate&&this.element.attr("transform","rotate("+t.rotate+", "+this.p[0]+", "+this.p[1]+") translate(0, 0) scale(1, -1)"),this},e}(r(1).SmithShape);e.SmithText=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=function(t){function e(e,r,n){var i=t.call(this,o.select(document.createElementNS("http://www.w3.org/2000/svg","line")))||this;return n&&i.setDrawOptions(n),i.draw(e,r),i}return i(e,t),e.prototype.draw=function(t,e){return this.element.attr("x1",t[0]).attr("y1",t[1]).attr("x2",e[0]).attr("y2",e[1]),this},e}(r(1).SmithShape);e.SmithLine=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=function(t){function e(e,r,n,i,a,c){var s=t.call(this,o.select(document.createElementNS("http://www.w3.org/2000/svg","path")))||this;return c&&s.setDrawOptions(c),s.draw(e,r,n,i,a),s}return i(e,t),e.prototype.draw=function(t,e,r,n,i){return this.element.attr("d","M"+t[0]+","+t[1]+" A"+r+","+r+" 0 "+n+","+i+" "+e[0]+","+e[1]),this},e}(r(1).SmithShape);e.SmithArc=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=function(){function t(t){this.container=n.select(document.createElementNS("http://www.w3.org/2000/svg","svg")).attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").attr("width",t).attr("height",t).attr("viewBox","-1 -1 2 2").attr("preserveAspectRatio","xMinYMin meet").attr("transform","translate(0, 1)"),this.defs=this.container.append("defs")}return Object.defineProperty(t.prototype,"Node",{get:function(){return this.container.node()},enumerable:!0,configurable:!0}),t.prototype.append=function(t){return null!==t&&this.container.append(function(){return t.Node}),this},Object.defineProperty(t.prototype,"Element",{get:function(){return this.container},enumerable:!0,configurable:!0}),t.prototype.appendDef=function(t){return this.defs.append(function(){return t.Node}),this},t}();e.SmithSvg=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(0),o=r(11),a=r(3),c=r(10),s=r(2),p=r(9),l=r(8),h=r(7),u=r(5),f=r(4);!function(t){t[t.Cursor=0]="Cursor",t[t.Marker=1]="Marker"}(n=e.SmithEventType||(e.SmithEventType={}));var d=function(){function t(t,e,r){void 0===r&&(r=50);var n=this;this.selector=t,this.size=e,this.Z0=r,this.interactionGroup=null,this.constantCircle=new u.SmithConstantCircle,this.userActionHandler=null,this.reflectionCoefficient=[0,0],this.transform={x:0,y:0,k:1},this.data=null,this.svg=new o.SmithSvg(e),this.container=(new a.SmithGroup).rotateY(),this.svg.append(this.container),this.defs=this.svg.Element.append("defs"),this.impedanceGroup=this.drawImpedance({stroke:"black",majorWidth:"0.001",minorWidth:"0.0003"}),this.admittanceGroup=this.drawAdmittance({stroke:"black",majorWidth:"0.001",minorWidth:"0.0003"}),this.constantSwrGroup=this.drawSwr(),this.constantQGroup=this.drawConstantQ(),this.container.append(this.admittanceGroup),this.container.append(this.impedanceGroup),this.container.append(this.constantSwrGroup),this.container.append(this.constantQGroup),this.container.append(this.drawReactanceAxis({stroke:"blue",strokeWidth:"0.005",fill:"transparent"})),this.addResistanceAxisClipPath(),this.fgContainer=new a.SmithGroup,this.fgContainerShape=this.drawReactanceAxis({fill:"transparent",stroke:"none"});var c=this;this.fgContainerShape.Element.on("mousemove",function(){var t=c.actionToPlot(i.mouse(this));c.isWithinPlot(t)?c.cursorOver(t):c.cursorOut()}).on("mouseleave",function(){c.cursorOut()});var s=i.zoom().scaleExtent([.5,40]).on("zoom",function(){n.transform=i.event.transform;var t=i.event.transform.x,e=i.event.transform.y,r=i.event.transform.k;console.log("translate("+t+", "+e+") scale("+r+", "+-r+")"),n.container.Element.attr("transform","translate("+t+", "+e+") scale("+r+", "+-r+")"),n.data&&n.data.zoom(n.transform)});this.fgContainerShape.Element.style("pointer-events","all").call(s),this.fgContainer.append(this.fgContainerShape),this.svg.append(this.fgContainer),this.transform={x:0,y:0,k:.95},this.container.Element.attr("transform","translate(0,0) scale(0.95,-0.95)"),this.cursor=this.drawCursor(),this.cursor.group.Element.attr("opacity","0"),this.container.append(this.cursor.group),i.select(t).append(function(){return n.svg.Node})}return t.prototype.actionToPlot=function(t){var e=[t[0],t[1]];return e[0]-=this.transform.x,e[1]-=this.transform.y,e[0]/=this.transform.k,e[1]/=-this.transform.k,e},t.prototype.plotToAction=function(t){var e=[t[0],t[1]];return e[0]*=this.transform.k,e[1]*=-this.transform.k,e[0]+=this.transform.x,e[1]+=this.transform.y,e},t.prototype.cursorOver=function(t){this.cursor.group.Element.attr("opacity",null),this.moveCursor(t)},t.prototype.cursorOut=function(){this.cursor.group.Element.attr("opacity","0")},t.prototype.getReactanceComponentValue=function(t,e){var r=this.constantCircle.reflectionCoefficientToImpedance(t);if(!r)return"Undefined";var n=r[1]*this.Z0;if(n<0){var i=1/(2*Math.PI*e*-n);return this.formatNumber(i)+"F"}var o=n/(2*Math.PI*e);return this.formatNumber(o)+"H"},t.prototype.formatComplex=function(t,e){return void 0===e&&(e=3),t[0].toFixed(e)+" "+(t[1]<0?"-":"+")+" j "+Math.abs(t[1]).toFixed(e)},t.prototype.formatNumber=function(t){return t>1e24?(t/1e24).toFixed(3)+" Y":t>1e21?(t/1e21).toFixed(3)+" Z":t>1e18?(t/1e18).toFixed(3)+" E":t>1e15?(t/1e15).toFixed(3)+" P":t>1e12?(t/1e12).toFixed(3)+" T":t>1e9?(t/1e9).toFixed(3)+" G":t>1e6?(t/1e6).toFixed(3)+" M":t>1e3?(t/1e3).toFixed(3)+" k":t>1?t.toFixed(3)+" ":t>.001?(t/.001).toFixed(3)+" m":t>1e-6?(t/1e-6).toFixed(3)+" μ":t>1e-9?(t/1e-9).toFixed(3)+" n":t>1e-12?(t/1e-12).toFixed(3)+" p":t>1e-15?(t/1e-15).toFixed(3)+" f":t>1e-18?(t/1e-18).toFixed(3)+" a":t>1e-21?(t/1e-21).toFixed(3)+" z":(t/1e-24).toFixed(3)+" y"},t.prototype.addS1P=function(t){var e=this;0!==t.length&&(this.data=new h.SmithData(t,this.transform,this.fgContainer,this.container),this.data.setMarkerMoveHandler(function(t,r){var i=r.point;e.userActionHandler&&e.userActionHandler({type:n.Marker,data:{reflectionCoefficient:i,impedance:e.getImpedance(i),admittance:e.getAdmittance(i),swr:e.getSwr(i),returnLoss:e.getReturnLoss(i),mismatchLoss:e.getMismatchLoss(i),Q:e.getQ(i),freq:r.freq}})}))},t.prototype.drawImpedanceTexts=function(){var t=new a.SmithGroup({stroke:"none",fill:"black"});t.Element.attr("font-family","Verdana"),t.Element.attr("font-size","0.03"),t.Element.attr("text-anchor","start");for(var e=0,r=f.SmithArcsDefs.textsTicks();e<r.length;e++){var n=r[e],i=this.constantCircle.impedanceToReflectionoefficient([n[0],0]);t.append(new l.SmithText(i,n[0].toFixed(n[1]),{rotate:90,dy:"0.004",dx:"0.001"}))}return t},t.prototype.drawAdmittanceTexts=function(){var t=new a.SmithGroup({stroke:"none",fill:"black"});t.Element.attr("font-family","Verdana"),t.Element.attr("font-size","0.03"),t.Element.attr("text-anchor","start");for(var e=0,r=f.SmithArcsDefs.textsTicks();e<r.length;e++){var n=r[e],i=this.constantCircle.admittanceToReflectionCoefficient([n[0],0]);t.append(new l.SmithText(i,n[0].toFixed(n[1]),{rotate:-90,dy:"0.004",dx:"0.001"}))}return t},t.prototype.drawImpedance=function(t){var e=new a.SmithGroup;return e.append(this.drawResistanceCircles(t)),e.append(this.drawReactanceCircles(t)),e.append(this.drawReactanceAxis({stroke:t.stroke,strokeWidth:t.majorWidth,fill:"none"})),e.append(this.drawResistanceAxis({stroke:t.stroke,strokeWidth:t.majorWidth,fill:"none"})),e.append(this.drawImpedanceTexts()),e.Element.attr("visibility","hidden"),e},t.prototype.showImpedance=function(){this.impedanceGroup.Element.attr("visibility","visible")},t.prototype.hideImpedance=function(){this.impedanceGroup.Element.attr("visibility","hidden")},t.prototype.showAdmittance=function(){this.admittanceGroup.Element.attr("visibility","visible")},t.prototype.hideAdmittance=function(){this.admittanceGroup.Element.attr("visibility","hidden")},t.prototype.drawAdmittance=function(t){var e=new a.SmithGroup;return e.append(this.drawConductanceCircles(t)),e.append(this.drawSusceptanceCircles(t)),e.append(this.drawReactanceAxis({stroke:t.stroke,strokeWidth:t.majorWidth,fill:"none"})),e.append(this.drawResistanceAxis({stroke:t.stroke,strokeWidth:t.majorWidth,fill:"none"})),e.append(this.drawAdmittanceTexts()),e.Element.attr("visibility","hidden"),e},t.prototype.showConstantSwrCircles=function(){this.constantSwrGroup.Element.attr("visibility","visible")},t.prototype.hideConstantSwrCircles=function(){this.constantSwrGroup.Element.attr("visibility","hidden")},t.prototype.drawSwr=function(){for(var t=new a.SmithGroup,e=0,r=[1.2,1.5,2,3,5,10];e<r.length;e++){var n=r[e];t.append(new s.SmithCircle({p:[0,0],r:this.constantCircle.swrToAbsReflectionCoefficient(n)},{stroke:"orange",strokeWidth:"0.003",fill:"none"}))}return t.Element.attr("visibility","hidden"),t},t.prototype.drawCursor=function(){var t=new a.SmithGroup,e=this.constantCircle.reflectionCoefficientToImpedance([0,0]),r=this.constantCircle.resistanceCircle(e[0]),n=new s.SmithCircle(r,{stroke:"red",strokeWidth:"0.005",fill:"none"});t.append(n),r=this.constantCircle.reactanceCircle(e[1]);var i=new p.SmithLine([-1,0],[1,0],{stroke:"red",strokeWidth:"0.005",fill:"none"});t.append(i);var o=new s.SmithCircle({p:[0,0],r:0},{stroke:"red",strokeWidth:"0.005",fill:"none"});o.Element.attr("clip-path","url(#resistance-axis-clip)"),t.append(o);var c=new s.SmithCircle(this.constantCircle.conductanceCircle(1),{stroke:"green",strokeWidth:"0.005",fill:"none"});t.append(c);var l=new p.SmithLine([-1,0],[1,0],{stroke:"green",strokeWidth:"0.005",fill:"none"});t.append(l);var h=new s.SmithCircle({p:[0,0],r:0},{stroke:"green",strokeWidth:"0.005",fill:"none"});h.Element.attr("clip-path","url(#resistance-axis-clip)"),t.append(h);var u=new s.SmithCircle({p:[0,0],r:.01},{stroke:"none",strokeWidth:"none",fill:"red"});return t.append(u),{group:t,point:u,impedance:{resistance:{circle:n},reactance:{circle:o,line:i}},admittance:{conductance:{circle:c},susceptance:{circle:h,line:l}}}},t.prototype.drawConstantQ=function(){for(var t=new a.SmithGroup({stroke:"blue",strokeWidth:"0.001",fill:"none"}),e=0,r=[.5,1,2,5,10];e<r.length;e++){var n=r[e],i=Math.sqrt(1+1/(n*n)),o=new c.SmithArc([-1,0],[1,0],i,"0","0");t.append(o);var s=new c.SmithArc([-1,0],[1,0],i,"0","1");t.append(s)}return t.Element.attr("visibility","hidden"),t},t.prototype.showConstantQ=function(){this.constantQGroup.Element.attr("visibility","visible")},t.prototype.hideConstantQ=function(){this.constantQGroup.Element.attr("visibility","hidden")},t.prototype.setUserActionHandler=function(t){this.userActionHandler=t},t.prototype.moveCursor=function(t){if(!1!==this.isWithinPlot(t)){this.reflectionCoefficient=t,this.cursor.point.move({p:t,r:.015});var e=this.constantCircle.reflectionCoefficientToImpedance(t);if(void 0===e)this.cursor.impedance.resistance.circle.Element.attr("visibility","hidden");else{var r=this.constantCircle.resistanceCircle(e[0]);this.cursor.impedance.resistance.circle.Element.attr("visibility","visible"),this.cursor.impedance.resistance.circle.move(r)}if(void 0===e||Math.abs(e[1])<1e-10)this.cursor.impedance.reactance.line.Element.attr("visibility","visible"),this.cursor.impedance.reactance.circle.Element.attr("visibility","hidden");else{var i=this.constantCircle.reactanceCircle(e[1]);this.cursor.impedance.reactance.line.Element.attr("visibility","hidden"),this.cursor.impedance.reactance.circle.Element.attr("visibility","visible"),this.cursor.impedance.reactance.circle.move(i)}var o=this.constantCircle.reflectionCoefficientToAdmittance(t);if(void 0===o)this.cursor.admittance.conductance.circle.Element.attr("visibility","hidden");else{var a=this.constantCircle.conductanceCircle(o[0]);this.cursor.admittance.conductance.circle.Element.attr("visibility","visible"),this.cursor.admittance.conductance.circle.move(a)}if(void 0===o||Math.abs(o[1])<1e-10)this.cursor.admittance.susceptance.line.Element.attr("visibility","visible"),this.cursor.admittance.susceptance.circle.Element.attr("visibility","hidden");else{this.cursor.admittance.susceptance.line.Element.attr("visibility","hidden"),this.cursor.admittance.susceptance.circle.Element.attr("visibility","visible");var c=this.constantCircle.susceptanceCircle(o[1]);this.cursor.admittance.susceptance.circle.move(c)}var s=this.getReflectionCoefficient();this.userActionHandler&&this.userActionHandler({type:n.Cursor,data:{reflectionCoefficient:s,impedance:this.getImpedance(s),admittance:this.getAdmittance(s),swr:this.getSwr(s),returnLoss:this.getReturnLoss(s),mismatchLoss:this.getMismatchLoss(s),Q:this.getQ(s)}})}},t.prototype.getReflectionCoefficient=function(){return this.reflectionCoefficient},t.prototype.getImpedance=function(t){var e=this.constantCircle.reflectionCoefficientToImpedance(t);return e&&(e[0]*=this.Z0,e[1]*=this.Z0),e},t.prototype.getAdmittance=function(t){var e=this.constantCircle.reflectionCoefficientToAdmittance(t);return e&&(e[0]*=1/this.Z0*1e3,e[1]*=1/this.Z0*1e3),e},t.prototype.getQ=function(t){var e=this.constantCircle.reflectionCoefficientToImpedance(t);if(e)return Math.abs(e[1]/e[0])},t.prototype.getSwr=function(t){return this.constantCircle.reflectionCoefficientToSwr(t)},t.prototype.getReturnLoss=function(t){return this.constantCircle.reflectionCoefficientToReturnLoss(t)},t.prototype.getMismatchLoss=function(t){return this.constantCircle.reflectionCoefficientToMismatchLoss(t)},t.prototype.drawResistanceAxis=function(t){return new p.SmithLine([-1,0],[1,0],t)},t.prototype.addResistanceAxisClipPath=function(){var t=this.constantCircle.resistanceCircle(0);this.defs.append("clipPath").attr("id","resistance-axis-clip").append("circle").attr("cx",t.p[0]).attr("cy",t.p[1]).attr("r",t.r)},t.prototype.drawReactanceAxis=function(t){return new s.SmithCircle(this.constantCircle.resistanceCircle(0),t)},t.prototype.drawResistanceCircles=function(t){for(var e=new a.SmithGroup,r=new a.SmithGroup({stroke:t.stroke,strokeWidth:t.majorWidth,fill:"transparent"}),n=0,i=f.SmithArcsDefs.resistanceMajor();n<i.length;n++){var o=i[n];r.append(this.drawResistanceCircle(o))}e.append(r);for(var c=new a.SmithGroup({stroke:t.stroke,strokeWidth:t.minorWidth,fill:"transparent"}),s=0,p=f.SmithArcsDefs.resistanceMinor();s<p.length;s++)o=p[s],c.append(this.drawResistanceCircle(o));return e.append(c),e},t.prototype.drawReactanceCircles=function(t){for(var e=new a.SmithGroup,r=new a.SmithGroup({stroke:t.stroke,strokeWidth:t.majorWidth,fill:"transparent"}),n=0,i=f.SmithArcsDefs.reactanceMajor();n<i.length;n++){var o=i[n];r.append(this.drawReactanceCircle(o))}e.append(r);for(var c=new a.SmithGroup({stroke:t.stroke,strokeWidth:t.minorWidth,fill:"transparent"}),s=0,p=f.SmithArcsDefs.reactanceMinor();s<p.length;s++)o=p[s],c.append(this.drawReactanceCircle(o));return e.append(c),e},t.prototype.drawConductanceCircles=function(t){for(var e=new a.SmithGroup,r=new a.SmithGroup({stroke:t.stroke,strokeWidth:t.majorWidth,fill:"transparent"}),n=0,i=f.SmithArcsDefs.resistanceMajor();n<i.length;n++){var o=i[n];r.append(this.drawConductanceCircle(o))}e.append(r);for(var c=new a.SmithGroup({stroke:t.stroke,strokeWidth:t.minorWidth,fill:"transparent"}),s=0,p=f.SmithArcsDefs.resistanceMinor();s<p.length;s++)o=p[s],c.append(this.drawConductanceCircle(o));return e.append(c),e},t.prototype.drawSusceptanceCircles=function(t){for(var e=new a.SmithGroup,r=new a.SmithGroup({stroke:t.stroke,strokeWidth:t.majorWidth,fill:"transparent"}),n=0,i=f.SmithArcsDefs.reactanceMajor();n<i.length;n++){var o=i[n];r.append(this.drawSusceptanceCircle(o))}e.append(r);for(var c=new a.SmithGroup({stroke:t.stroke,strokeWidth:t.minorWidth,fill:"transparent"}),s=0,p=f.SmithArcsDefs.reactanceMinor();s<p.length;s++)o=p[s],c.append(this.drawSusceptanceCircle(o));return e.append(c),e},t.prototype.drawResistanceCircle=function(t){return void 0===t[f.SmithArcEntry.clipCircles]?new s.SmithCircle(this.constantCircle.resistanceCircle(t[f.SmithArcEntry.circle])):this.resistanceArc(t)},t.prototype.drawReactanceCircle=function(t){return this.reactanceArc(t)},t.prototype.drawConductanceCircle=function(t){return void 0===t[f.SmithArcEntry.clipCircles]?new s.SmithCircle(this.constantCircle.conductanceCircle(t[f.SmithArcEntry.circle])):this.conductanceArc(t)},t.prototype.drawSusceptanceCircle=function(t){return this.susceptanceArc(t)},t.prototype.resistanceArc=function(t){var e=t[f.SmithArcEntry.clipCircles],r=t[f.SmithArcEntry.arcOptions];if(void 0===e||void 0===r)return null;var n=this.constantCircle.resistanceCircle(t[f.SmithArcEntry.circle]),i=this.circleCircleIntersection(n,this.constantCircle.reactanceCircle(e[0][0])),o=this.circleCircleIntersection(n,this.constantCircle.reactanceCircle(e[1][0]));return this.drawArc(t,n,i,o)},t.prototype.reactanceArc=function(t){var e=t[f.SmithArcEntry.clipCircles],r=t[f.SmithArcEntry.arcOptions];if(void 0===e||void 0===r)return null;var n=this.constantCircle.reactanceCircle(t[f.SmithArcEntry.circle]),i=this.circleCircleIntersection(n,this.constantCircle.resistanceCircle(e[0][0])),o=this.circleCircleIntersection(n,this.constantCircle.resistanceCircle(e[1][0]));return this.drawArc(t,n,i,o)},t.prototype.conductanceArc=function(t){var e=t[f.SmithArcEntry.clipCircles],r=t[f.SmithArcEntry.arcOptions];if(void 0===e||void 0===r)return null;var n=this.constantCircle.conductanceCircle(t[f.SmithArcEntry.circle]),i=this.circleCircleIntersection(n,this.constantCircle.susceptanceCircle(e[0][0])),o=this.circleCircleIntersection(n,this.constantCircle.susceptanceCircle(e[1][0]));return this.drawArc(t,n,i,o)},t.prototype.susceptanceArc=function(t){var e=t[f.SmithArcEntry.clipCircles],r=t[f.SmithArcEntry.arcOptions];if(void 0===e||void 0===r)return null;var n=this.constantCircle.susceptanceCircle(t[f.SmithArcEntry.circle]),i=this.circleCircleIntersection(n,this.constantCircle.conductanceCircle(e[0][0])),o=this.circleCircleIntersection(n,this.constantCircle.conductanceCircle(e[1][0]));return this.drawArc(t,n,i,o)},t.prototype.drawArc=function(t,e,r,n){var i=t[f.SmithArcEntry.clipCircles],o=t[f.SmithArcEntry.arcOptions],a=r[i[0][1]],s=n[i[1][1]],p=e.r,l=o[0]?"1":"0",h=o[1]?"1":"0";return new c.SmithArc(a,s,p,l,h)},t.prototype.isWithinPlot=function(t){var e=this.constantCircle.resistanceCircle(0);return Math.pow(t[0]-e.p[0],2)+Math.pow(t[1]-e.p[1],2)<=Math.pow(e.r,2)},t.prototype.circleCircleIntersection=function(t,e){var r=Math.sqrt(Math.pow(e.p[0]-t.p[0],2)+Math.pow(e.p[1]-t.p[1],2)),n=(r*r+t.r*t.r-e.r*e.r)/(2*r*t.r),i=Math.sqrt(1-Math.pow(n,2)),o=(e.p[0]-t.p[0])*t.r/r,a=(e.p[1]-t.p[1])*t.r/r;return[[o*n-a*i+t.p[0],o*i+a*n+t.p[1]],[o*n+a*i+t.p[0],a*n-o*i+t.p[1]]]},t}();e.Smith=d},function(t,e){t.exports=$},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{s(n.next(t))}catch(t){o(t)}}function c(t){try{s(n.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(13),a=r(12);o(document).ready(function(){var t=new a.Smith("#smith",600);t.showImpedance();for(var e=function(t){o(t[0]).change(function(){o(t[0]).prop("checked")?t[1]():t[2]()})},r=0,c=[["#impedance",function(){return t.showImpedance()},function(){return t.hideImpedance()}],["#admittance",function(){return t.showAdmittance()},function(){return t.hideAdmittance()}],["#constantQ",function(){return t.showConstantQ()},function(){return t.hideConstantQ()}],["#constantSwr",function(){return t.showConstantSwrCircles()},function(){return t.hideConstantSwrCircles()}]];r<c.length;r++)e(c[r]);t.setUserActionHandler(function(e){var r=e.data.reflectionCoefficient,n=e.data.impedance,i=e.data.admittance,c=e.data.Q,s=e.data.swr,p=e.data.returnLoss,l=e.data.mismatchLoss;if(e.type===a.SmithEventType.Cursor&&(o("#cur-ref-co").text("Γ: "+t.formatComplex(r)),n&&o("#cur-imp").text("Z: "+t.formatComplex(n)+" Ω"),i&&o("#cur-adm").text("Y: "+t.formatComplex(i)+" mS"),o("#cur-swr").text("VSWR: "+s.toFixed(3)+" : 1"),o("#cur-ret-loss").text("Return Loss: "+p.toFixed(2)+" dB"),o("#cur-mis-loss").text("Mismatch Loss: "+l.toFixed(2)+" dB"),c&&o("#cur-q").text("Q: "+c.toFixed(3))),e.type===a.SmithEventType.Marker){o("#mark-ref-co").text("Γ: "+t.formatComplex(r)),n&&o("#mark-imp").text("Z: "+t.formatComplex(n)+" Ω"),i&&o("#mark-adm").text("Y: "+t.formatComplex(i)+" mS"),o("#mark-swr").text("VSWR: "+s.toFixed(3)+" : 1"),o("#mark-ret-loss").text("Return Loss: "+p.toFixed(2)+" dB"),o("#mark-mis-loss").text("Mismatch Loss: "+l.toFixed(2)+" dB"),c&&o("#mark-q").text("Q: "+c.toFixed(3));var h=e.data;o("#mark-freq").text("Frequency: "+t.formatNumber(h.freq)+"Hz");var u=t.getReactanceComponentValue(r,h.freq);o("#mark-comp-val").text(u)}}),document.getElementById("file").addEventListener("change",function(e){return n(this,void 0,void 0,function(){var r,n,o;return i(this,function(i){switch(i.label){case 0:return(r=e.target).files&&r.files.length>0?[4,(a=r.files[0],new Promise(function(t,e){var r=new FileReader;r.onload=function(){return t(r.result)},r.readAsText(a)}))]:[3,2];case 1:n=i.sent(),o=function(t){for(var e=[],r=0,n=t.split("\n");r<n.length;r++){var i=n[r];if("!"!==i.charAt(0)&&"#"!==i.charAt(0)){var o=i.trim().split(/ +/g);if(3===o.length){var a=o.map(function(t){return parseFloat(t)});e.push({freq:a[0],point:[a[1],a[2]]})}}}return e}(n),t.addS1P(o),i.label=2;case 2:return[2]}var a})})},!1)})}]);
//# sourceMappingURL=smith.js.map